<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    [Question] Two Dimensional Knapsack Problem 丨
    

    typo
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">Tech blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">[Question] Two Dimensional Knapsack Problem</div>
  <div class="post-meta">
    <div class="date">2015 January 28th</div>
    <div class="tags">
      
    </div>
  </div>
  

  <main class="post-content"><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><p><a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_8a24b3a3010190ak.html">link</a></p>
<blockquote>
<p>给定n种物品和一背包。物品i的重量是wi，体积是bi，其价值为vi，背包的容量为C，容积为D。问应如何选择装入背包中的物品，使得装入背包中物品的总价值最大？</p>
</blockquote>
<blockquote>
<p>在选择装入背包的物品时，对每种物品i只有两种选择，即装入背包或者不装入背包。不能将物品i装入背包多次，也不能只装入部分的物品i。试设计一个解此问题的动态规划算法，并分析算法的计算复杂性。</p>
</blockquote>
<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>This is a extended question from <strong>[Question] 0-1 Knapsack Problem</strong>. </p>
<p>Same solution, just use 3D-array for DP. </p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>First of all, define a 2D array, Knapsack(n,W) denotes getting ‘n’th item, with weight ‘W’. When n &#x3D;&#x3D; 0 or W &#x3D; 0, dp value is 0. </p>
<blockquote>
<p>int[][][] dp &#x3D; new int[n + 1][W + 1][B + 1];</p>
</blockquote>
<p>Now if item ‘n’ is able to fit in:</p>
<blockquote>
<p>dp[i][j][k] &#x3D; max(dp[i-1][j][k] , dp[i-1][j-w[i]][k-b[i]] + v[i]);</p>
</blockquote>
<p>If not able to fit in: </p>
<blockquote>
<p>dp[i][j][k] &#x3D; dp[i-1][j][k];</p>
</blockquote>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>Code from <a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_8a24b3a3010190ak.html">绝对快乐一生</a>: </p>
<pre><code>int main()
&#123;
   int i,j,k;
   int n,c,d;
   int w[MAX] = &#123;0&#125;;   //重量
   int b[MAX] = &#123;0&#125;;   //体积
   int v[MAX] = &#123;0&#125;;   //价值
   cout&lt;&lt;&quot;请输入物品个数:&quot;;
   cin&gt;&gt;n;
   cout&lt;&lt;&quot;请输入背包的容量及容积:&quot;;
   cin&gt;&gt;c&gt;&gt;d;
   cout&lt;&lt;&quot;请依次输入各个物品的重量,体积,价值:(共&quot;&lt;&lt;n&lt;&lt;&quot;个)&quot;&lt;&lt;endl;
   for(i =1;i&lt;n+1;i++)
   &#123;
       cin&gt;&gt;w[i]&gt;&gt;b[i]&gt;&gt;v[i];
   &#125;

   int dp[50][50][50]=&#123;0&#125;; 
   //dp[i][j][k] i代表着第1到第i个物品，j代表的是重量，k代表的是容积，dp为最优价值

   for(i=1;i&lt;n+1;i++)
       for(j =1;j &lt;=c;j++)
           for(k = 1 ;k &lt;= d ; k++)
           &#123;
               if(w[i]&lt;=j&amp;&amp;b[i]&lt;=k)  
               //当前物品重量小于当前容量，且体积小于容积时 ，才可以考虑装入物品的问题
                   dp[i][j][k] = max(dp[i-1][j][k] , dp[i-1][j-w[i]][k-b[i]] + v[i]);
               else dp[i][j][k] = dp[i-1][j][k];
           &#125;
   cout&lt;&lt;&quot;背包能放物品的最大价值为:&quot;&lt;&lt;dp[n][c][d]&lt;&lt;endl;
  int x[MAX] =&#123;0&#125;;   //记录是否被选中
  for(i =n;i&gt;1;i--)
       if(dp[i][c][d]==dp[i-1][c][d])x[i] =0;
      else &#123;x[i]=1;c -= w[i];d -= b[i];&#125;
   x[1]=(dp[1][c][d])?1:0;
   cout&lt;&lt;&quot;被选入背包的物品的编号,质量和体积,价值分别是:&quot;&lt;&lt;endl;
   for(i=1;i&lt;&lt;/span&gt;n+1;i++)
       if(x[i]==1)
           cout&lt;&lt;&quot;第&quot;&lt;&lt;i&lt;&lt;&quot;个物品: &quot;&lt;&lt;w[i]&lt;&lt;&quot;  &quot;&lt;&lt;b[i]&lt;&lt;&quot;  &quot;&lt;&lt;v[i]&lt;&lt;endl;

&#125;
</code></pre>
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright © 2024 typo</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>