<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">





<title>【Tech】 Git Learning Notes | Tech blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const pagebody = document.getElementsByTagName('body')[0]

            function setTheme(status) {

                if (status === 'dark') {
                    window.sessionStorage.theme = 'dark'
                    pagebody.classList.add('dark-theme');

                } else if (status === 'light') {
                    window.sessionStorage.theme = 'light'
                    pagebody.classList.remove('dark-theme');
                }
            };

            setTheme(window.sessionStorage.theme)
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Tech Blog</a></div>
            <div class="menu navbar-right">
                
                <a class="menu-item" href="/archives">Posts</a>
                
                <a class="menu-item" href="/category">Categories</a>
                
                <a class="menu-item" href="/tag">Tags</a>
                
                <a class="menu-item" href="/about">About</a>
                
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Tech Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">
                    <svg class="menu-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M4.5 17.27q-.213 0-.356-.145T4 16.768t.144-.356t.356-.143h15q.213 0 .356.144q.144.144.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.144T4 11.999t.144-.356t.356-.143h15q.213 0 .356.144t.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.143Q4 7.443 4 7.23t.144-.356t.356-.143h15q.213 0 .356.144T20 7.23t-.144.356t-.356.144z"/></svg>
                    <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Material Symbols Light by Google - https://github.com/google/material-design-icons/blob/master/LICENSE --><path fill="currentColor" d="m12 12.708l-5.246 5.246q-.14.14-.344.15t-.364-.15t-.16-.354t.16-.354L11.292 12L6.046 6.754q-.14-.14-.15-.344t.15-.364t.354-.16t.354.16L12 11.292l5.246-5.246q.14-.14.345-.15q.203-.01.363.15t.16.354t-.16.354L12.708 12l5.246 5.246q.14.14.15.345q.01.203-.15.363t-.354.16t-.354-.16z"/></svg>
                </div>
            </div>
            <div class="menu" id="mobile-menu">
                
                <a class="menu-item" href="/archives">Posts</a>
                
                <a class="menu-item" href="/category">Categories</a>
                
                <a class="menu-item" href="/tag">Tags</a>
                
                <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">【Tech】 Git Learning Notes</h1>
            
                <div class="post-meta">
                    

                    
                        <span class="post-time">
                        Date: <a href="#">April 26, 2015&nbsp;&nbsp;0:00:00</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/unknown/">unknown</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h1><p><strong>Remote connections are more like bookmarks</strong>. </p>
<p>git remote command is really just an easier way to pass URLs.</p>
<p>When you clone a repository with git clone, it automatically creates a remote connection called <strong>origin</strong>.</p>
<h1 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h1><p>The git fetch command imports commits from a remote repository into your local repo</p>
<p>The resulting commits are <strong>stored as remote branches</strong> instead of the normal local branches</p>
<p>Fetching is what you do when you want to see what everybody else has been working on. Since fetched content is represented as a remote branch, it has absolutely no effect on your local development work.</p>
<h2 id="Remote-branches"><a href="#Remote-branches" class="headerlink" title="Remote branches"></a>Remote branches</h2><p>Remote branches are just like local branches, except they represent commits from somebody else’s repository. You can check out a remote branch just like a local one, but this <strong>puts you in a detached HEAD state</strong> (just like checking out an old commit). You can think of them as <strong>read-only branches</strong>.</p>
<h1 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h1><p>This is the same as </p>
<pre><code>git fetch &lt;remote&gt; 
</code></pre>
<p>followed by </p>
<pre><code>git merge origin/&lt;current-branch&gt;
</code></pre>
<h2 id="alternative"><a href="#alternative" class="headerlink" title="alternative"></a>alternative</h2><pre><code>git pull --rebase &lt;remote&gt; 
(eg. git pull --rebase origin)
</code></pre>
<p>Same as the above command, but <strong>instead of using git merge</strong> to integrate the remote branch with the local one, use <strong>git rebase</strong>.</p>
<h2 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h2><p>–rebase option can be used to ensure a linear history by preventing unnecessary merge commits.</p>
<p>In fact, pulling with –rebase is such a common workflow that there is a dedicated configuration option for it:</p>
<pre><code>git config --global branch.autosetuprebase always
</code></pre>
<h1 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h1><p>After you’re ready to share your commits with others, you (optionally) <strong>clean them up with an interactive rebase</strong>, then push them to the central repository.</p>
<p>You should only push to repositories that have been created with the <strong>–bare flag</strong>. It’s important to <strong>never push to another developer’s repository</strong>.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>The following example describes one of the <strong>standard methods</strong> for publishing local contributions to the central repository.</p>
<pre><code>git checkout master
git fetch origin master
git rebase -i origin/master
# Squash commits, fix up commit messages etc.
git push origin master
</code></pre>
<p>reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/syncing">Atlassian Tutorials on Git</a></p>
<h1 id="Pull-request"><a href="#Pull-request" class="headerlink" title="Pull request"></a>Pull request</h1><p><strong>pull requests</strong> are a mechanism for a developer to notify team members that they have completed a feature. </p>
<p>But, the pull request is more than just a notification—it’s a dedicated forum for discussing the proposed feature. If there are any problems with the changes, teammates can post feedback in the pull request.</p>
<h2 id="pull-request-anatomy"><a href="#pull-request-anatomy" class="headerlink" title="pull-request anatomy"></a>pull-request anatomy</h2><p>You will need to provide 4 pieces of information to file a pull request: </p>
<ol>
<li>the source repository, </li>
<li>the source branch, </li>
<li>the destination repository, </li>
<li>the destination branch.</li>
</ol>
<h1 id="Example-Process"><a href="#Example-Process" class="headerlink" title="Example Process"></a>Example Process</h1><p>Pull requests can be used in conjunction with the Feature Branch Workflow, the Gitflow Workflow, or the Forking Workflow. But a pull request requires either two distinct branches or two distinct repositories, so they will not work with the Centralized Workflow. </p>
<ol>
<li><p>A developer creates the feature in a dedicated branch in their local repo.</p>
</li>
<li><p>The developer pushes the branch to a public Bitbucket repository.</p>
</li>
<li><p>The developer files a pull request via Bitbucket.<br>The rest of the team reviews the code, discusses it, and alters it.</p>
</li>
<li><p>The project maintainer merges the feature into the official repository and closes the pull request.</p>
</li>
</ol>
<p>reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/making-a-pull-request">Atlassian Tutorials on Git</a></p>
<h1 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h1><p><strong>git branch</strong> is a way to request a brand new working directory, staging area, and project history. </p>
<h2 id="Git-Vs-SVN"><a href="#Git-Vs-SVN" class="headerlink" title="Git Vs. SVN"></a>Git Vs. SVN</h2><p>Git branches is more lightweight than SVN’s. </p>
<p>Instead of <strong>copying files from directory to directory</strong>, Git stores a branch <strong>as a reference to a commit</strong>. In this sense, a branch represents the tip of a series of commits — not a container for commits. </p>
<h2 id="branch-basics"><a href="#branch-basics" class="headerlink" title="branch basics"></a>branch basics</h2><pre><code>git branch
</code></pre>
<p>List all branches</p>
<pre><code>git branch &lt;branch&gt;
</code></pre>
<p>Create a new branch called <branch> (but don’t checkout).</p>
<pre><code>git checkout -b &lt;new-branch&gt;
</code></pre>
<p>Create and check out <new-branch>. </p>
<pre><code>git branch -d &lt;branch&gt;
</code></pre>
<p>Delete the specified branch (safe).</p>
<pre><code>git branch -D &lt;branch&gt;
</code></pre>
<p>Force delete the specified branch, even if it has unmerged changes. </p>
<pre><code>git branch -m &lt;branch&gt;
</code></pre>
<p>Rename current branch to <branch>.</p>
<h2 id="Detached-HEADs"><a href="#Detached-HEADs" class="headerlink" title="Detached HEADs"></a>Detached HEADs</h2><p>Remember that the HEAD is Git’s way of referring to the current snapshot. </p>
<p>Internally, <strong>git checkout</strong> command simply updates the HEAD to point to either the <strong>specified branch or commit</strong>.</p>
<p>When it points to a branch, Git doesn’t complain, but <strong>when you check out a commit</strong>, it switches into a “detached HEAD” state.</p>
<p>{&lt;1&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen-Shot-2015-05-11-at-8-53-09-PM.png"></p>
<p>If you were to start developing a feature while in a detached HEAD state, there would be no branch allowing you to get back to it.</p>
<p>However, if you’re just looking at an old commit, it doesn’t really matter if you’re in a detached HEAD state or not.</p>
<h1 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h1><h2 id="merge-basics"><a href="#merge-basics" class="headerlink" title="merge basics"></a>merge basics</h2><pre><code>git merge &lt;branch&gt;
</code></pre>
<p>Merge the branch into the current branch. </p>
<pre><code>git merge --no-ff &lt;branch&gt;
</code></pre>
<p>Merge the branch into the current branch, but always generate a merge commit (even if it was a fast-forward merge).</p>
<h2 id="fast-forward"><a href="#fast-forward" class="headerlink" title="fast forward"></a>fast forward</h2><p>A fast-forward merge can occur when there is a linear path from the current branch tip to the target branch. </p>
<p>{&lt;2&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen-Shot-2015-05-11-at-9-53-17-PM.png"></p>
<p>Instead of “actually” merging the branches, Git only moves the current branch tip up to the target branch tip. </p>
<h2 id="3-way-merge"><a href="#3-way-merge" class="headerlink" title="3-way merge"></a>3-way merge</h2><p>When there is not a linear path to the target branch, Git will do <strong>3-way merge</strong>. It use a dedicated commit to tie together the two histories. </p>
<p>{&lt;3&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen-Shot-2015-05-11-at-9-57-48-PM.png"></p>
<p>Three commits are used to generate the merge commit: </p>
<ol>
<li>two branch tips</li>
<li>their common ancestor.</li>
</ol>
<h2 id="Conflicts"><a href="#Conflicts" class="headerlink" title="Conflicts"></a>Conflicts</h2><p>When both branches modify the same file, you’ll resolve the conflicts manually. After that, do a normal commit. </p>
<p>Note that merge conflicts will only occur in the event of a 3-way merge.</p>
<h2 id="Conventions"><a href="#Conventions" class="headerlink" title="Conventions"></a>Conventions</h2><p>While you can use either of these merge strategies, many developers like to use fast-forward merges (facilitated through rebasing) for <strong>small features</strong> or bug fixes, while reserving 3-way merges for the integration of <strong>longer-running features</strong>. </p>
<p>In the latter case, the resulting merge commit serves as a symbolic joining of the two branches.</p>
<h2 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h2><p>3-way merge</p>
<pre><code># Start a new feature
git checkout -b new-feature master

# Edit some files
git add &lt;file&gt;
git commit -m &quot;Start a feature&quot;

# Edit some files
git add &lt;file&gt;
git commit -m &quot;Finish a feature&quot;

# Develop the master branch
git checkout master

# Edit some files
git add &lt;file&gt;
git commit -m &quot;Make some super-stable changes to master&quot;

# Merge in the new-feature branch
git merge new-feature
git branch -d new-feature
</code></pre>
<p>reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/using-branches">Atlassian Tutorials on Git</a></p>
<h1 id="Git-workflows"><a href="#Git-workflows" class="headerlink" title="Git workflows"></a>Git workflows</h1><p>Remember this is guidelines rather than concrete rules. We’ll cover the first 3:</p>
<ol>
<li><p>Centralized Workflow</p>
</li>
<li><p>Feature Branch Workflow</p>
</li>
<li><p>Gitflow Workflow</p>
</li>
<li><p>Forking Workflow</p>
</li>
</ol>
<h1 id="Centralized-Workflow"><a href="#Centralized-Workflow" class="headerlink" title="Centralized Workflow"></a>Centralized Workflow</h1><ol>
<li><p>Each developer modify and commit into <strong>master branch</strong>.</p>
</li>
<li><p>After the change, <strong>fetch</strong> the updated central commits.</p>
</li>
<li><p><strong>rebase</strong> their changes.</p>
</li>
<li><p>If local changes directly conflict with upstream commits, Git will <strong>pause the rebasing</strong> and asks you to manually resolve the conflicts.</p>
</li>
</ol>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p>Mary:</p>
<pre><code>git clone ssh://user@host/path/to/repo.git
git status # View the state of the repo
git add &lt;some-file&gt; # Stage a file
git commit # Commit a file&lt;/some-file&gt;
git push origin master
</code></pre>
<p>Bill:</p>
<pre><code>git push origin master
error: failed to push some refs to &#39;/path/to/repo.git&#39;
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. &#39;git pull&#39;)
hint: before pushing again.
hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.
</code></pre>
<p>Then, Bill would do:</p>
<pre><code>git pull --rebase origin master
CONFLICT (content): Merge conflict in &lt;some-file&gt;
# Unmerged paths:
# (use &quot;git reset HEAD &lt;some-file&gt;...&quot; to unstage)
# (use &quot;git add/rm &lt;some-file&gt;...&quot; as appropriate to mark resolution)
#
# both modified: &lt;some-file&gt;
</code></pre>
<p>Bill solve some conflicts, then</p>
<pre><code>git add &lt;some-file&gt;
git rebase --continue
## after rebase successful,
git push origin master
</code></pre>
<h1 id="Feature-Branch-Workflow"><a href="#Feature-Branch-Workflow" class="headerlink" title="Feature Branch Workflow"></a>Feature Branch Workflow</h1><p>The core idea is that <strong>all feature development take place in a dedicated branch</strong> instead of the master branch. So that:</p>
<ol>
<li><p>a branch is a feature, having highly-focused purpose.</p>
</li>
<li><p>master branch will never contain broken code</p>
</li>
<li><p>possible to leverage <strong>pull requests</strong></p>
</li>
</ol>
<p>Note: Feature branches can and should be <strong>pushed to the central repository</strong>.</p>
<h2 id="pull-request"><a href="#pull-request" class="headerlink" title="pull request"></a>pull request</h2><p>Once someone completes a feature, they don’t immediately merge it into master.</p>
<p>Instead, they push feature branch to central server and <strong>file a pull request</strong>.</p>
<p>Code review shall happen here.</p>
<h2 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h2><p>Mary creates and checkout a branch if it doesn’t already exist (with -b):</p>
<pre><code>git checkout -b marys-feature master
# edits, stages, and commits changes
git status
git add &lt;some-file&gt;
git commit
git push -u origin marys-feature
</code></pre>
<p>-u is used to add it as a remote tracking branch. Now her feature is finished, she’ll do:</p>
<pre><code>git push
</code></pre>
<p>Then a pull request.</p>
<p>After the code review, Mary still can work on this branch like she did before, or even Bill can pull marys-feature into his local repository and work on it. Until the pull request is accepted, either Mary or Bill do:</p>
<pre><code>git checkout master
git pull
git pull origin marys-feature
git push
</code></pre>
<p>{&lt;1&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%2011.18.54%20AM.png"></p>
<blockquote>
<p><strong>git pull origin marys-feature</strong> merges central repository’s copy of marys-feature to local master. (You could also use a simple <strong>git merge marys-feature</strong>, but the command shown above makes sure you’re always pulling the most up-to-date version of the feature branch.)</p>
</blockquote>
<blockquote>
<p>If you find it hard to understand, read <a target="_blank" rel="noopener" href="http://superuser.com/a/163048">Pull for another Git branch without switching, from superuser.com</a>:</p>
</blockquote>
<pre><code>git checkout live
git pull origin master
</code></pre>
<blockquote>
<blockquote>
<p>This will attempt a merge of the remote master and your live branch.</p>
</blockquote>
</blockquote>
<h2 id="discussion-merge-vs-rebase"><a href="#discussion-merge-vs-rebase" class="headerlink" title="discussion: merge vs. rebase"></a>discussion: merge vs. rebase</h2><p>This process often results in a merge commit. Some developers like this because it’s like <strong>a symbolic joining of the feature</strong> with the rest of the code base. But, if you’re partial to a linear history, it’s possible to <strong>rebase the feature</strong> onto the tip of master before executing the merge, resulting in a fast-forward merge.</p>
<h1 id="Gitflow-Workflow"><a href="#Gitflow-Workflow" class="headerlink" title="Gitflow Workflow"></a>Gitflow Workflow</h1><p>Gitflow Workflow defines a <strong>strict branching model</strong> designed around the project release. It assigns <strong>very specific roles</strong> to different branches and defines how and when they should interact.</p>
<h2 id="master-and-develop"><a href="#master-and-develop" class="headerlink" title="master and develop"></a>master and develop</h2><p>The master branch stores the official release history, and the develop branch serves as an integration branch for features.</p>
<p><strong>Tag all commits</strong> in the master branch with <strong>a version number</strong>.</p>
<h2 id="feature-branches"><a href="#feature-branches" class="headerlink" title="feature branches"></a>feature branches</h2><p>Each new feature should reside in its own branch, which can be pushed to the central repository for backup&#x2F;collaboration. But, instead of branching off of master, <strong>feature branches use develop as their parent branch</strong>.</p>
<blockquote>
<p>Note that feature branches combined with the develop branch is, for all intents and purposes, the <strong>Feature Branch Workflow</strong>.</p>
</blockquote>
<p>{&lt;2&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%204.19.16%20PM.png"></p>
<blockquote>
<p>branch off: develop</p>
<p>merge into: develop</p>
</blockquote>
<h2 id="release-branches"><a href="#release-branches" class="headerlink" title="release branches"></a>release branches</h2><p>For release, you fork a release branch off of develop, and prepare:</p>
<ol>
<li>bug fixes</li>
<li>documentation generation</li>
<li>other release-oriented tasks</li>
</ol>
<p><strong>No new features</strong> can be added after this point.</p>
<p>Once ready for release, this branch will get <strong>merged into master</strong> and tagged with a version number. In addition, it should be <strong>merged back into develop</strong>.</p>
<p>{&lt;3&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%204.27.35%20PM.png"></p>
<blockquote>
<p>branch off: develop</p>
<p>merge into: master, develop</p>
<p>naming convention: release-* or release&#x2F;*</p>
</blockquote>
<h2 id="hotfix-branches"><a href="#hotfix-branches" class="headerlink" title="hotfix branches"></a>hotfix branches</h2><p>Maintenance or “hotfix” branches are used to quickly patch production releases.</p>
<p>This is the only branch that should <strong>fork directly off of master</strong>.</p>
<p>Once fixed, it’s <strong>merged into both master and develop</strong> (or the current release branch), and master should be tagged with an updated version number.</p>
<p>You can think of maintenance branches as ad hoc release branches that work directly with master.</p>
<p>{&lt;4&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%204.32.26%20PM.png"></p>
<blockquote>
<p>branch off: master</p>
<p>merge into: master, develop</p>
</blockquote>
<h2 id="example-2"><a href="#example-2" class="headerlink" title="example"></a>example</h2><h3 id="create-master-and-develop"><a href="#create-master-and-develop" class="headerlink" title="create master and develop"></a>create master and develop</h3><pre><code>git branch develop
git push -u origin develop
</code></pre>
<p><strong>develop</strong> will contain the complete history of the project, whereas <strong>master</strong> will contain an abridged version.</p>
<p>Bill now clone the central repository and create a tracking branch for develop:</p>
<pre><code>git clone ssh://user@host/path/to/repo.git
git checkout -b develop origin/develop
</code></pre>
<h3 id="develop-stage"><a href="#develop-stage" class="headerlink" title="develop stage"></a>develop stage</h3><p>Now Mary and Bill both work on their own features:</p>
<pre><code>git checkout -b some-feature develop
# make changes
git status
git add &lt;some-file&gt;
git commit
</code></pre>
<p>Once Mary finishes a feature, she can do a pull request, or this:</p>
<pre><code>git pull origin develop
git checkout develop
git merge some-feature
git push
git branch -d some-feature
</code></pre>
<h3 id="release-stage"><a href="#release-stage" class="headerlink" title="release stage"></a>release stage</h3><p>While Bill is still working on his feature, Mary starts to prepare the first official release</p>
<pre><code>git checkout -b release-0.1 develop
</code></pre>
<p>She’ll clean up the release, test everything, update the documentation. Now the release is feature-frozen.</p>
<p>Once the release is ready, Mary merges it into master and develop, then deletes the release branch. (can also do pull request here)</p>
<pre><code>git checkout master
git merge release-0.1
git push
git checkout develop
git merge release-0.1
git push
git branch -d release-0.1
</code></pre>
<p>When merging something into master, you should tag the commit for easy reference:</p>
<pre><code>git tag -a 0.1 -m &quot;Initial public release&quot; master
git push --tags
</code></pre>
<h3 id="maintenance-stage"><a href="#maintenance-stage" class="headerlink" title="maintenance stage"></a>maintenance stage</h3><p>If a bug is found:</p>
<pre><code>git checkout -b issue-#001 master
# Fix the bug
git checkout master
git merge issue-#001
git push
</code></pre>
<p>Then include it in develop, and delete the branch:</p>
<pre><code>git checkout develop
git merge issue-#001
git push
git branch -d issue-#001
</code></pre>
<h1 id="Final-note-on-workflows"><a href="#Final-note-on-workflows" class="headerlink" title="Final note on workflows"></a>Final note on workflows</h1><p>They are not hard-and-fast rules for using Git in the workplace. So, don’t be afraid to adopt some aspects of a workflow and disregard others. The goal should always be to make Git work for you, not the other way around.</p>
<p>Reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/comparing-workflows">Comparing Workflows by atlassian</a></p>
<h1 id="Forking"><a href="#Forking" class="headerlink" title="Forking"></a>Forking</h1><p>We have discussed about Centralized, Feature branch &amp; Gitflow in <a href="/git-workflows-feature-branch-gitflow-and-fork/">previous post</a>. </p>
<p>Now, Forking Workflow is <strong>fundamentally different</strong> than the other workflows. Instead of using a single server-side repository to act as the “central” codebase, it gives every developer a server-side repository. </p>
<p>Developers push to their own server-side repositories, and <strong>only the project maintainer</strong> can push to the official repository. </p>
<p>This allows the maintainer to <strong>accept commits</strong> from any developer without giving them write access to the official codebase.</p>
<p>This is an ideal workflow for open source projects.</p>
<h2 id="How-It-Works"><a href="#How-It-Works" class="headerlink" title="How It Works"></a>How It Works</h2><ol>
<li><p>developer fork the official repository to create a copy of it on the server.</p>
</li>
<li><p>no other developers are allowed to push to it, but they can pull changes from it</p>
</li>
<li><p>after he makes changes, he commits and push the commit to their own public repository - not the official one. Then, they file a pull request with the main repository.</p>
</li>
<li><p>maintainer pulls the contributor’s changes into their local repository, checks to make sure it doesn’t break the project, merges it into his local master branch, then pushes the master branch to the official repository</p>
</li>
</ol>
<h2 id="example-3"><a href="#example-3" class="headerlink" title="example"></a>example</h2><p>For a thorough example, read the ref link below. </p>
<p>Reference link: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/comparing-workflows/forking-workflow">Forking Workflow by atlassian.com</a></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://mar2ndx.github.io/2015/04/26/unclemartian-git-tutorial/">https://mar2ndx.github.io/2015/04/26/unclemartian-git-tutorial/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/technology/"># technology</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2015/04/27/unclemartian-ghost-guide-vps/">【Tech】 Quick setup guide of Ghost on VPS</a>
            
            
            <a class="next" rel="next" href="/2015/04/24/unclemartian-vi-tutorial/">【Tech】 Vi tutorial</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>©  | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>