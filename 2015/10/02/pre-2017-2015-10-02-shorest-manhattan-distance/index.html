<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    [Google] Shortest Manhattan Distance  丨
    

    typo
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">Tech blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">[Google] Shortest Manhattan Distance </div>
  <div class="post-meta">
    <div class="date">2015 October 2nd</div>
    <div class="tags">
      
    </div>
  </div>
  

  <main class="post-content"><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><p><a target="_blank" rel="noopener" href="http://www.mitbbs.com/article_t/JobHunting/33054861.html">link</a></p>
<blockquote>
<p>给一个 n*m 的房间，房间里存在各种可能的墙，房间的格子里已经放了 e 个器材，要<br>求新放一个器材，放置位置距其它 e 个器材的距离最近。Breadth-first search.</p>
</blockquote>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><blockquote>
<p>对 e 个设备 BFS, 求每个设备到每个可以放新器材的点的距离，然后叠加。</p>
</blockquote>
<blockquote>
<p>最后 O（n^2）一遍找最小值。复杂度 O（e*n^2）</p>
</blockquote>
<p>As for whether we choose to check each equipment position, or check each vacant position, it’s decided by how many equipment is there. If very little equipments (e is small), then this solution should work.</p>
<p>However, what is there is obstacles in the matrix?</p>
<p>We have to use BFS then. It took more space usage, but the time complexity should be same.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><pre><code>public void findCenter(int[][] input, int numberOfEquip) &#123;
	int m = input.length;
	int n = input[0].length;

	// there&#39;s gonna be m * n positions
	// we gonna cumulate (numberOfEquip) distances for each position
	int[] dis = new int[m * n];

	// from the input map, find Equipments
	for (int i = 0; i &lt; m; i++) &#123;
		for (int j = 0; j &lt; n; j++) &#123;
			if (input[i][j] == 1) &#123;
				// 1 represents equipment
				// when found, add the distance to every position
				cumulateDistance(i, j, dis, m, n);
			&#125;
		&#125;
	&#125;

	// find the smallest cumulated distance from dis[].
	int sIndex = 0;
	int smallest = dis[0];
	for (int i = 0; i &lt; m * n; i++) &#123;
		if (dis[i] &lt; smallest) &#123;
			smallest = dis[i];
			sIndex = i;
		&#125;
	&#125;

	// index sIndex is the final answer
	System.out.println(&quot;Answer: &quot; + (sIndex / n) + &quot; &quot; + (sIndex % n));
&#125;

private void cumulateDistance(int x, int y, int[] dis, int m, int n) &#123;
	for (int i = 0; i &lt; m * n; i++) &#123;
		int a = i / n;
		int b = i % n;
		dis[i] += Math.abs(a - x) + Math.abs(b - y);
	&#125;
&#125;
</code></pre>
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright © 2024 typo</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>