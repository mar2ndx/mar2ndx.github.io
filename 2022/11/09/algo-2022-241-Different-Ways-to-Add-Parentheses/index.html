<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    241. Different Ways to Add Parentheses 丨
    

    typo
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">Tech blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">241. Different Ways to Add Parentheses</div>
  <div class="post-meta">
    <div class="date">2022 November 9th</div>
    <div class="tags">
      
    </div>
  </div>
  

  <main class="post-content"><p>Link: <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/different-ways-to-add-parentheses/">https://leetcode.cn/problems/different-ways-to-add-parentheses/</a></p>
<h1 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h1><p>difficulty: mid<br>adj diff: 5</p>
<pre><code>Given a string expression of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. You may return the answer in any order.

The test cases are generated such that the output values fit in a 32-bit integer and the number of different results does not exceed 104.

Example 1:

Input: expression = &quot;2-1-1&quot;
Output: [0,2]

Explanation:

    ((2-1)-1) = 0
    (2-(1-1)) = 2

Example 2:

Input: expression = &quot;2*3-4*5&quot;
Output: [-34,-14,-10,-10,10]

Explanation:

    (2*(3-(4*5))) = -34
    ((2*3)-(4*5)) = -14
    ((2*(3-4))*5) = -10
    (2*((3-4)*5)) = -10
    (((2*3)-4)*5) = 10

Constraints:

1 &lt;= expression.length &lt;= 20
expression consists of digits and the operator &#39;+&#39;, &#39;-&#39;, and &#39;*&#39;.
All the integer values in the input expression are in the range [0, 99].
</code></pre>
<p>这道题好难，不会。</p>
<p>用 dfs + divide and concur，方法很巧妙。看代码</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><p>参考了：<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/different-ways-to-add-parentheses/solution/by-ac_oier-z07i/">https://leetcode.cn/problems/different-ways-to-add-parentheses/solution/by-ac_oier-z07i/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">public List&lt;Integer&gt; diffWaysToCompute(String expression) &#123;</span><br><span class="line">    return dfs(expression.toCharArray(), 0, expression.length() - 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private List&lt;Integer&gt; dfs(char[] input, int start, int end) &#123;</span><br><span class="line">    List&lt;Integer&gt; ans = new LinkedList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">    for (int i = start; i &lt;= end; i++) &#123;</span><br><span class="line">        if (isDigit(input[i])) &#123;</span><br><span class="line">            // we only look for operator, skip all numbers</span><br><span class="line">            continue;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // is an operator: &#123;+, -, *&#125;, divide and concur</span><br><span class="line">            List&lt;Integer&gt; leftChildren = dfs(input, start, i - 1);</span><br><span class="line">            List&lt;Integer&gt; rightChildren = dfs(input, i + 1, end);</span><br><span class="line">            for (Integer v: leftChildren) &#123;</span><br><span class="line">                for (Integer w: rightChildren) &#123;</span><br><span class="line">                    ans.add(calculate(v, input[i], w));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // if no operator is found? it&#x27;s just number</span><br><span class="line">    if (ans.isEmpty()) &#123;</span><br><span class="line">        int num = 0;</span><br><span class="line">        for (int i = start; i &lt;= end; i++) &#123;</span><br><span class="line">            num = num * 10 + input[i] - &#x27;0&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">        ans.add(num);</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private int calculate(int num1, char operator, int num2) &#123;</span><br><span class="line">    switch (operator) &#123;</span><br><span class="line">        case &#x27;+&#x27;: return num1 + num2;</span><br><span class="line">        case &#x27;-&#x27;: return num1 - num2;</span><br><span class="line">        case &#x27;*&#x27;: return num1 * num2;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private boolean isDigit(char ch) &#123;</span><br><span class="line">    if (&#x27;0&#x27; &lt;= ch &amp;&amp; ch &lt;= &#x27;9&#x27;) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright © 2024 typo</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>