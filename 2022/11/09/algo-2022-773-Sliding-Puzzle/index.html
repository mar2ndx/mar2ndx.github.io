<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    773. Sliding Puzzle 丨
    

    typo
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">Tech blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">773. Sliding Puzzle</div>
  <div class="post-meta">
    <div class="date">2022 November 9th</div>
    <div class="tags">
      
    </div>
  </div>
  

  <main class="post-content"><p>Link: <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sliding-puzzle/">https://leetcode.cn/problems/sliding-puzzle/</a></p>
<h1 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h1><p>difficulty: hard<br>adj diff: 4</p>
<pre><code>On an 2 x 3 board, there are five tiles labeled from 1 to 5, and an empty square represented by 0. A move consists of choosing 0 and a 4-directionally adjacent number and swapping it.

The state of the board is solved if and only if the board is [[1,2,3],[4,5,0]].

Given the puzzle board board, return the least number of moves required so that the state of the board is solved. If it is impossible for the state of the board to be solved, return -1.

Example 1:

Input: board = [[1,2,3],[4,0,5]]
Output: 1
Explanation: Swap the 0 and the 5 in one move.

Example 2:

Input: board = [[1,2,3],[5,4,0]]
Output: -1
Explanation: No number of moves will make the board solved.

Example 3:

Input: board = [[4,1,2],[5,0,3]]
Output: 5
Explanation: 5 is the smallest number of moves that solves the board.

    An example path:
    After move 0: [[4,1,2],[5,0,3]]
    After move 1: [[4,1,2],[0,5,3]]
    After move 2: [[0,1,2],[4,5,3]]
    After move 3: [[1,0,2],[4,5,3]]
    After move 4: [[1,2,0],[4,5,3]]
    After move 5: [[1,2,3],[4,5,0]]

Constraints:

	board.length == 2
	board[i].length == 3
	0 &lt;= board[i][j] &lt;= 5
	Each value board[i][j] is unique.
</code></pre>
<p>这道题代码量很大，但是就是基本的 bfs （用一个 queue 一个 visited map）。</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><p>代码不是我写的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">int[][] neighbors = &#123;&#123;1, 3&#125;, &#123;0, 2, 4&#125;, &#123;1, 5&#125;, &#123;0, 4&#125;, &#123;1, 3, 5&#125;, &#123;2, 4&#125;&#125;;</span><br><span class="line"></span><br><span class="line">public int slidingPuzzle(int[][] board) &#123;</span><br><span class="line">    StringBuffer sb = new StringBuffer();</span><br><span class="line">    for (int i = 0; i &lt; 2; ++i) &#123;</span><br><span class="line">        for (int j = 0; j &lt; 3; ++j) &#123;</span><br><span class="line">            sb.append(board[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    String initial = sb.toString();</span><br><span class="line">    if (&quot;123450&quot;.equals(initial)) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int step = 0;</span><br><span class="line">    Queue&lt;String&gt; queue = new LinkedList&lt;String&gt;();</span><br><span class="line">    queue.offer(initial);</span><br><span class="line">    Set&lt;String&gt; seen = new HashSet&lt;String&gt;();</span><br><span class="line">    seen.add(initial);</span><br><span class="line"></span><br><span class="line">    while (!queue.isEmpty()) &#123;</span><br><span class="line">        ++step;</span><br><span class="line">        int size = queue.size();</span><br><span class="line">        for (int i = 0; i &lt; size; ++i) &#123;</span><br><span class="line">            String status = queue.poll();</span><br><span class="line">            for (String nextStatus : get(status)) &#123;</span><br><span class="line">                if (!seen.contains(nextStatus)) &#123;</span><br><span class="line">                    if (&quot;123450&quot;.equals(nextStatus)) &#123;</span><br><span class="line">                        return step;</span><br><span class="line">                    &#125;</span><br><span class="line">                    queue.offer(nextStatus);</span><br><span class="line">                    seen.add(nextStatus);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 枚举 status 通过一次交换操作得到的状态</span><br><span class="line">public List&lt;String&gt; get(String status) &#123;</span><br><span class="line">    List&lt;String&gt; ret = new ArrayList&lt;String&gt;();</span><br><span class="line">    char[] array = status.toCharArray();</span><br><span class="line">    int x = status.indexOf(&#x27;0&#x27;);</span><br><span class="line">    for (int y : neighbors[x]) &#123;</span><br><span class="line">        swap(array, x, y);</span><br><span class="line">        ret.add(new String(array));</span><br><span class="line">        swap(array, x, y);</span><br><span class="line">    &#125;</span><br><span class="line">    return ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void swap(char[] array, int x, int y) &#123;</span><br><span class="line">    char temp = array[x];</span><br><span class="line">    array[x] = array[y];</span><br><span class="line">    array[y] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright © 2024 typo</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>