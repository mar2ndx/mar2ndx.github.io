<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    [CC150v5] 9.10 Stack up the Boxes  丨
    

    typo
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">Tech blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">[CC150v5] 9.10 Stack up the Boxes </div>
  <div class="post-meta">
    <div class="date">2014 September 17th</div>
    <div class="tags">
      
    </div>
  </div>
  

  <main class="post-content"><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><blockquote>
<p>You have a stack of n boxes, with widths w., heights h, and depths d. The boxes can only be stacked on top of one another if each box is strictly larger than the box above it in width, height, and depth. </p>
</blockquote>
<blockquote>
<p>Implement a method to build the tallest stack possible, where the height of a stack is the sum of the heights of each box. </p>
</blockquote>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>This is appearantly a DP question. I did it in the normal way, and the solution turns out to be very good: </p>
<pre><code>DP solution is        2638ms
Recursive solution is 1322ms
My solution is         370ms
</code></pre>
<p>I could not understand the 2 solutions given in the book. Sorry.</p>
<p>The coding is a bit lengthy, and we keeps 2 DP arrays. <strong>Not an easy question of course</strong>, but the solution is actually standard. </p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><pre><code>public static ArrayList&lt;Box&gt; createStack(Box[] boxes) &#123;
	ArrayList&lt;Box&gt; ans = new ArrayList&lt;Box&gt;();
	int len = boxes.length;
	int[] heights = new int[len];
	int[] preMap = new int[len];
	int maxIndex = 0;

	// start DP
	for (int i = 0; i &lt; len; i++) &#123;
		heights[i] = boxes[i].height;
		preMap[i] = -1;
		for (int j = 0; j &lt; i; j++) &#123;
			if (boxes[j].canBeAbove(boxes[i])) &#123;
				int newHeight = heights[j] + boxes[i].height;
				if (newHeight &gt; heights[i]) &#123;
					heights[i] = newHeight;
					preMap[i] = j;
				&#125;
			&#125;
		&#125;
		// now updated maxIndex
		if (heights[i] &gt; heights[maxIndex]) &#123;
			maxIndex = i;
		&#125;
	&#125;

	// print from maxIndex all the way backwards
	while (maxIndex != -1) &#123;
		ans.add(boxes[maxIndex]);
		// the print order is reversed, so...
		maxIndex = preMap[maxIndex];
	&#125;
	return ans;
&#125;
</code></pre>
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright © 2024 typo</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>