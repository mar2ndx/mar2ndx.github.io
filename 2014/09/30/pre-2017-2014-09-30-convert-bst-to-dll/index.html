<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    [CC150v5] 17.13 Convert BST to DLL  丨
    

    typo
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">Tech blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">[CC150v5] 17.13 Convert BST to DLL </div>
  <div class="post-meta">
    <div class="date">2014 September 30th</div>
    <div class="tags">
      
    </div>
  </div>
  

  <main class="post-content"><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><blockquote>
<p>Consider a simple node-like data structure called BiNode, which has pointers to two other nodes.</p>
</blockquote>
<pre><code>public class BiNode &#123;
    public BiNode node1, node2;
    public int data;
&#125;
</code></pre>
<blockquote>
<p>The data structure BiNode could be used to represent both a binary tree (where node1 is the left node and node2 is the right node) or a doubly linked list (where node1 is the previous node and node2 is the next node). Implement a method to convert a binary search tree (implemented with BiNode) into a doubly linked list. The values should be kept in order and the operation should be performed in place (that is, on the original data structure). </p>
</blockquote>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>At another post <strong>[LeetCode Plus] Convert BST to Circular DLL</strong>, we already discussed 2 approaches: </p>
<ol>
<li>in-order traversal approach</li>
<li>divide and conquer approach</li>
</ol>
<p>First approach isn’t intuitive. We will further discuss D&amp;C approach here. </p>
<p><strong>The key of the solution is how we return both HEAD and TAIL</strong>. The book suggests 3 ways: </p>
<ol>
<li>Build a <strong>data structure</strong> to store both head and tail</li>
<li><strong>Just return head</strong>, and retrieve tail by traversing thru - bad time complexity O(n^2)</li>
<li><strong>Use circular linked-list</strong>! Time O(n).</li>
</ol>
<p>I wrote the code for 1st and 2nd approach. And 3rd is already covered in previous post. </p>
<ul>
<li>You need to understand why we need the list to be circular.</li>
</ul>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p><strong>Approach 1</strong></p>
<pre><code>public static BiNode convert(BiNode root) &#123;
	BiNodePair res = helper(root);
	return res.leftMost;
&#125;

private static BiNodePair helper(BiNode node) &#123;
	if (node == null) &#123;
		return null;
	&#125;
	BiNodePair res = new BiNodePair(node, node);
	if (node.node1 != null) &#123;
		BiNodePair leftRes = helper(node.node1);
		res.leftMost = leftRes.leftMost;
		leftRes.rightMost.node2 = node;
		node.node1 = leftRes.rightMost;
	&#125;
	if (node.node2 != null) &#123;
		BiNodePair rightRes = helper(node.node2);
		res.rightMost = rightRes.rightMost;
		rightRes.leftMost.node1 = node;
		node.node2 = rightRes.leftMost;
	&#125;
	return res;
&#125;

static class BiNodePair &#123;
	BiNode leftMost;
	BiNode rightMost;

	public BiNodePair(BiNode node1, BiNode node2) &#123;
		leftMost = node1;
		rightMost = node2;
	&#125;
&#125;
</code></pre>
<p><strong>Approach 2</strong></p>
<pre><code>public static BiNode convert(BiNode root) &#123;
	if (root == null) &#123;
		return null;
	&#125;
	return helper(root);
&#125;

private static BiNode helper(BiNode node) &#123;
	// node is not null
	BiNode newHead = node;
	// do left part
	if (node.node1 != null) &#123;
		newHead = helper(node.node1);
		BiNode leftTail = getListTail(newHead);
		leftTail.node2 = node;
		node.node1 = leftTail;
	&#125;
	// do right part
	if (node.node2 != null) &#123;
		BiNode rightHead = helper(node.node2);
		node.node2 = rightHead;
		rightHead.node1 = node;
	&#125;
	return newHead;
&#125;

private static BiNode getListTail(BiNode head) &#123;
	// head is not null
	while (head.node2 != null) &#123;
		head = head.node2;
	&#125;
	return head;
&#125;
</code></pre>
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright © 2024 typo</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>